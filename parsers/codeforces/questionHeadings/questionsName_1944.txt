C2. Guessing the Greatest (hard version)